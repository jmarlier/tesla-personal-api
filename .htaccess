# Protection des dossiers sensibles
<IfModule mod_rewrite.c>
    RewriteEngine On
</IfModule>

# Bloquer l'accès au dossier var/
RedirectMatch 403 ^/var/.*$

# Bloquer l'accès au dossier config/
RedirectMatch 403 ^/config/.*$

# Bloquer l'accès au dossier vendor/ (sauf si nécessaire)
RedirectMatch 403 ^/vendor/.*$

# Bloquer l'accès aux fichiers .env
<FilesMatch "^\.env">
    Order allow,deny
    Deny from all
</FilesMatch>

# Bloquer l'accès aux fichiers de configuration
<FilesMatch "\.(json|pem|key|log)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Autoriser l'accès au dossier .well-known (nécessaire pour Tesla)
<IfModule mod_rewrite.c>
    RewriteCond %{REQUEST_URI} ^/\.well-known/
    RewriteRule .* - [L]
</IfModule>

